<header>
<script src="/assets/js/lang-switch.js" defer></script>
  <h1>Tito necesita un riñón</h1>
  <nav>
    <a href="/es/index.html">Inicio</a>
    <a href="/es/about.html">Sobre mí</a>
    <a href="/es/hub/index.html">Centro renal</a>
    <a href="/es/donor-info.html">Información para donantes</a>
    <a href="/es/donor-testimonials.html">Testimonios de donantes</a>
    <a href="/es/book.html">Libro</a>
  </nav>
  
  
<div class="lang-switch" aria-label="Language">
  <a data-lang="en" href="/">EN</a>
  <span aria-hidden="true">/</span>
  <a data-lang="es" href="/es/">ES</a>
</div>

<script>
(function(){
  // Normalize path but keep real page paths intact
  var p = location.pathname || "/";
  if (p === "/index.html") p = "/";
  if (p === "/es/index.html") p = "/es/";
  p = p.replace(/\/{2,}/g, "/");

  var isES = p.startsWith("/es/");
  var en = document.querySelector('.lang-switch [data-lang="en"]');
  var es = document.querySelector('.lang-switch [data-lang="es"]');
  if (!en || !es) { console.warn("[lang] links not found"); return; }

  // Build hrefs that PRESERVE the current path (not just home)
  var enHref = isES ? p.replace(/^\/es(\/|$)/, "/") || "/" : (p || "/");
  var esHref = isES ? p : (p === "/" ? "/es/" : "/es" + p);

  en.setAttribute("href", enHref);
  es.setAttribute("href", esHref);

  // Paint active pill
  var active = isES ? es : en;
  active.classList.add("active");
  active.setAttribute("aria-current", "true");

  // Debug so we can SEE it ran
  console.log("[lang] path:", p, "| isES:", isES, "| EN→", enHref, "| ES→", esHref);
})();
</script>






</header>

